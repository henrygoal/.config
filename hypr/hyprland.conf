# See https://wiki.hyprland.org/Configuring/Monitors/
#monitor=,preferred,auto,auto
monitor=eDP-1,2560x1600@120,0x0,1.25
monitor=DP-2,2560x1440@120,2048x0,1


xwayland {
  force_zero_scaling = true
}


env = GDK_SCALE,1.5
env = XCURSOR_THEME,hyprcursors
env = XCURSOR_SIZE,25

env = HYPRCURSOR_THEME,hyprcursors
env = HYPRCURSOR_SIZE,25

# Source a file (multi-file configs)
# source = ~/.config/hypr/myColors.conf

source = ~/.config/hypr/windowrule.conf

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

   follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    gaps_in = 3
    gaps_out = 3
    border_size = 2
    #col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.active_border = rgba(A414E9FF) rgba(A414E9FF) 45deg
    col.inactive_border = rgba(595959aa)

    layout = dwindle
}


decoration {    
    # See https://wiki.hyprland.org/Configuring/Variables/ for more    
    rounding = 10    
    blur {        
        enabled = true        
        size = 3        
        passes = 1    
    }
    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }
}



animations {
    enabled = yes

    # Some default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    #new_is_master = true
    new_status = master
}

#gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
#    workspace_swipe = off
#}
gesture = 3, horizontal, workspace


#device {
#     name = epic-mouse-v1
#     sensitivity = -0.5
#}

device {
    name = rog-keris-wireless-aimpoint-mouse
    sensitivity = 0
}

device {
    name = uniw0001:00-093a:0255-touchpad
    enabled = false
}

misc {
       disable_hyprland_logo = true
}

# Example windowrule v1
# windowrule = float, ^(kitty)$
# Example windowrule v2

# wezterm
windowrule {

  name = wezterm
  match:class = wezterm
  size = 1020 820
}

# Network Connections
windowrule = float on, match:title Network Connections

# Fcitx Configuration
windowrule = float on, match:title Fcitx Configuration


# winecfg.exe
windowrule {
  name = winecfg
  match:class = winecfg.exe
  no_max_size = on
  size = 420 420
}

# 企业微信
windowrule = opacity 0.9 0.9, match:class 企业微信
windowrule {
  name = 企业微信
  match:title = 企业微信
  size = 700 500
  float = on
  workspace = 7
}

# Telegram
windowrule = float on, match:class .*telegram.*
windowrule {
  name = telegramm
  match:class = org.telegram.desktop
  size = 600 400
  workspace = 7
}

# 网易云音乐
windowrule {
  name = 网易云音乐
  match:initial_title = 网易云音乐
  workspace = 7
  size = 700 700
  float = on
}

# 特殊状态窗口
windowrule = border_color rgba(6a5acdee) rgba(6a5acdee), match:pin true
windowrule = border_color rgba(7b68eeee) rgba(7b68eeee), match:fullscreen true

# gnome-terminal
windowrule = animation slide, match:class gnome-terminal-server

# fcitx
windowrule = opacity 1.0 1.0, match:class fcitx.*

# Remmina
windowrule {
  name = Remmina
  match:class = org.remmina.Remmina
  match:title = Remmina Remote Desktop Client
  workspace = 4
}

# JetBrains IDEA
windowrule = opacity 1.0 1.0, match:class jetbrains-idea

# Xephyr
windowrule = workspace 10, match:class Xephyr

# Firefox 翻译窗口
windowrule {
  name = firefox
  match:class = firefox
  match:title = https://translate.google.com.*Firefox
  float = on
}

# Nemo
windowrule = workspace 5, match:class nemo


# See https://wiki.hyprland.org/Configuring/Keywords/ for more
$mainMod = SUPER
$shiftMod = SUPER_SHIFT
$controlMod = SUPER_CONTROL
$ctrlshiftMod = CTRL_SHIFT

$ctrlaltMod = CTRL_ALT 

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bind = $shiftMod, Q, killactive, 
bind = $shiftMod, C, exit, 
bind = $mainMod, 65, togglefloating,  #space
bind = $mainMod, R, exec, pkill wofi || ~/.config/hypr/tools/windows.py
bind = $shiftMod, E, pseudo, # dwindle
bind = $mainMod, E, togglesplit, # dwindle
bind = $mainMod, V, centerwindow
bind = $mainMod, TAB, cyclenext,
bind = $shiftMod, TAB, cyclenext, prev
bind = $shiftMod, T, pin, 
bind = $mainMod, T, bringactivetotop,
bind = $mainMod, 59, splitratio, -0.2
bind = $mainMod, 60, splitratio, 0.2
bind = $shiftMod, F, fullscreen, 0
bind = $mainMod, F, fullscreen, 1

#group
bind = $mainMod, X, togglegroup,  # / 60
bind = $shiftMod, X, moveoutofgroup,  # / 60
bind = $shiftMod, 47, moveintogroup, l # ,
bind = $shiftMod, 48, moveintogroup, r # .
bind = $mainMod, 47, changegroupactive, b
bind = $mainMod, 48, changegroupactive, f
bind = $mainMod, mouse:275, changegroupactive, b
bind = $mainMod, mouse:276, changegroupactive, f

# APPLICATION
bind = $mainMod, Return, exec, wezterm
bind = $controlMod, X, exec, ~/.config/hypr/tools/ydcv
bind = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5%
bind = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
bind = , XF86AudioMuteVolume, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle

bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle

bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-                                   
bind = , XF86MonBrightnessUp, exec, brightnessctl set 5%+

bind = $mainMod, p, exec, wofi --show=drun --lines=5 --prompt="" 



# Move focus with mainMod + arrow keys
bind = $mainMod, H, movefocus, l
bind = $mainMod, K, movefocus, r
bind = $mainMod, U, movefocus, u
bind = $mainMod, J, movefocus, d

bind = $shiftMod, H, movewindow, l
bind = $shiftMod, K, movewindow, r
bind = $shiftMod, U, movewindow, u
bind = $shiftMod, J, movewindow, d


# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

bind = $controlMod, 1, moveworkspacetomonitor, 1 DP-1
bind = $controlMod, 2, moveworkspacetomonitor, 2 DP-1
bind = $controlMod, 3, moveworkspacetomonitor, 3 DP-1
bind = $controlMod, 4, moveworkspacetomonitor, 4 DP-1
bind = $controlMod, 5, moveworkspacetomonitor, 5 DP-1

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# SWAP Workspace
bind = $mainMod, ESCAPE, workspace, previous #ESC
bind = $shiftMod, 20, movetoworkspace, special #-
bind = $mainMod, 20, togglespecialworkspace

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# will switch to a submap called resize
bind = $shiftMod, W, submap, resize
submap = resize
binde = , L, resizeactive,10 0
binde = , H, resizeactive,-10 0
binde = , K, resizeactive,0 -10
binde = , J, resizeactive,0 10
bind = , escape, submap, reset 
submap = reset

#capture 
bind = $ctrlaltMod,P, exec, grim  -g "$(slurp)" - | wl-copy                                            
bind = $ctrlaltMod,O, exec, grim -s 1 -g "$(slurp)" $(xdg-user-dir PICTURES)/$(date +'%s_grim.png') 

#lock 
#bind = $mainMod, L, exec, swaylock -f -n -t -i  ~/.config/sway/images/screenlock.png

bind = $mainMod, L, exec, swaylock   --clock   --indicator   --indicator-radius 100   --indicator-thickness 7   --ring-color bb00cc   --key-hl-color 880033   --line-color 00000000   --inside-color 00000088   --separator-color 00000000     --fade-in 0.2   --indicator-image /home/luyh/.config/sway/images/header.png  -i  /home/luyh/.config/sway/images/pastel-samurai.jpg

#bind = $mainMod, L, exec, hyprctl  dispatch  dpms off
bind = $shiftMod, L, exec, hyprctl  dispatch  dpms on

bind = $ctrlshiftMod,I, exec, nwggrid -o 0.05
bind = $ctrlshiftMod,Y, exec, nwgbar -o 0.5

bind = $mainMod, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy
#bind = $mainMod, V, exec, clipman pick -t wofi
#

#cliphist
bind = $mainMod, 47, exec, pkill wofi || cliphist list | wofi -S dmenu | cliphist decode | wl-copy
bind = $shiftMod, 47, exec, pkill wofi || cliphist list | wofi -S dmenu | cliphist delete
exec-once= wl-paste --watch cliphist store

# Execute your favorite apps at launch
# exec-once = waybar & hyprpaper & firefox
exec-once = ls -l /mnt &>/dev/null & waybar -c ~/.config/hypr/waybar/config -s ~/.config/hypr/waybar/style.css
exec-once = fcitx5
#exec-once= swayidle -w 
exec-once = nm-applet --indicator
exec-once = hyprpaper
exec-once = wl-copy
exec-once = hyprctl keyword "device:uniw0001:00-093a:0255-touchpad:enabled" false
#exec-once = gsettings set org.gnome.desktop.interface gtk-theme Orchis-compact

#exec-once = gsettings set org.gnome.desktop.interface gtk-theme lxappearance
exec-once = eww -c ~/.config/eww/bar daemon
exec-once = eww -c ~/.config/eww/dashboard  daemon

#cliphist
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type image --watch cliphist store #Stores only image data

#clipman
#exec-once = wl-paste -p -t text --watch clipman store -P --histpath="~/.local/share/clipman-primary.json"
